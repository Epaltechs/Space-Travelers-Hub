c14af34ab89a2ae3cebb75731b9409b7
"use strict";

var _interopRequireDefault = require("C:/Users/Otomfon/Desktop/space_travelers_hub/node_modules/@babel/runtime/helpers/interopRequireDefault.js").default;

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.fetchRocketApi = exports.default = exports.bookRocket = void 0;

var _axios = _interopRequireDefault(require("axios"));

// conts
const FETCH_ROCKET = 'space-practice/rockets/FETCH_ROCKET';
const BOOK_ROCKET = 'space-practice/rockets/BOOK_ROCKET'; // actions

const fetchRocket = payload => ({
  type: FETCH_ROCKET,
  payload
});

const bookRocket = payload => ({
  type: BOOK_ROCKET,
  payload
}); //   APIs-functions


exports.bookRocket = bookRocket;

const fetchRocketApi = () => async dispatch => {
  const returnValue = await _axios.default.get('https://api.spacexdata.com/v3/rockets');
  const {
    data
  } = returnValue;
  const rockets = [];

  for (let i = 0; i < data.length; i += 1) {
    const name = data[i].rocket_name;
    const {
      id
    } = data[i];
    const {
      description
    } = data[i];
    const image = data[i].flickr_images[0];
    const reserved = false;
    const object = {
      id,
      name,
      description,
      image,
      reserved
    };
    rockets.push(object);
  }

  dispatch(fetchRocket(rockets));
}; // rocket-booking


exports.fetchRocketApi = fetchRocketApi;

const reserveCancelRocket = (state, payload) => {
  const newState = state.map(rocket => {
    if (rocket.id !== payload) return rocket;
    return { ...rocket,
      reserved: !rocket.reserved
    };
  });
  return newState;
}; // state


const initialState = []; // reducer

const reducer = (state = initialState, action) => {
  switch (action.type) {
    case FETCH_ROCKET:
      return action.payload;

    case BOOK_ROCKET:
      return reserveCancelRocket(state, action.payload);

    default:
      return state;
  }
};

var _default = reducer;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJGRVRDSF9ST0NLRVQiLCJCT09LX1JPQ0tFVCIsImZldGNoUm9ja2V0IiwicGF5bG9hZCIsInR5cGUiLCJib29rUm9ja2V0IiwiZmV0Y2hSb2NrZXRBcGkiLCJkaXNwYXRjaCIsInJldHVyblZhbHVlIiwiQXhpb3MiLCJnZXQiLCJkYXRhIiwicm9ja2V0cyIsImkiLCJsZW5ndGgiLCJuYW1lIiwicm9ja2V0X25hbWUiLCJpZCIsImRlc2NyaXB0aW9uIiwiaW1hZ2UiLCJmbGlja3JfaW1hZ2VzIiwicmVzZXJ2ZWQiLCJvYmplY3QiLCJwdXNoIiwicmVzZXJ2ZUNhbmNlbFJvY2tldCIsInN0YXRlIiwibmV3U3RhdGUiLCJtYXAiLCJyb2NrZXQiLCJpbml0aWFsU3RhdGUiLCJyZWR1Y2VyIiwiYWN0aW9uIl0sInNvdXJjZXMiOlsicm9ja2V0cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQXhpb3MgZnJvbSAnYXhpb3MnO1xuXG4vLyBjb250c1xuY29uc3QgRkVUQ0hfUk9DS0VUID0gJ3NwYWNlLXByYWN0aWNlL3JvY2tldHMvRkVUQ0hfUk9DS0VUJztcbmNvbnN0IEJPT0tfUk9DS0VUID0gJ3NwYWNlLXByYWN0aWNlL3JvY2tldHMvQk9PS19ST0NLRVQnO1xuXG4vLyBhY3Rpb25zXG5jb25zdCBmZXRjaFJvY2tldCA9IChwYXlsb2FkKSA9PiAoe1xuICB0eXBlOiBGRVRDSF9ST0NLRVQsXG4gIHBheWxvYWQsXG59KTtcblxuZXhwb3J0IGNvbnN0IGJvb2tSb2NrZXQgPSAocGF5bG9hZCkgPT4gKHtcbiAgdHlwZTogQk9PS19ST0NLRVQsXG4gIHBheWxvYWQsXG59KTtcblxuLy8gICBBUElzLWZ1bmN0aW9uc1xuXG5leHBvcnQgY29uc3QgZmV0Y2hSb2NrZXRBcGkgPSAoKSA9PiBhc3luYyAoZGlzcGF0Y2gpID0+IHtcbiAgY29uc3QgcmV0dXJuVmFsdWUgPSBhd2FpdCBBeGlvcy5nZXQoJ2h0dHBzOi8vYXBpLnNwYWNleGRhdGEuY29tL3YzL3JvY2tldHMnKTtcbiAgY29uc3QgeyBkYXRhIH0gPSByZXR1cm5WYWx1ZTtcbiAgY29uc3Qgcm9ja2V0cyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBuYW1lID0gZGF0YVtpXS5yb2NrZXRfbmFtZTtcbiAgICBjb25zdCB7IGlkIH0gPSBkYXRhW2ldO1xuICAgIGNvbnN0IHsgZGVzY3JpcHRpb24gfSA9IGRhdGFbaV07XG4gICAgY29uc3QgaW1hZ2UgPSBkYXRhW2ldLmZsaWNrcl9pbWFnZXNbMF07XG4gICAgY29uc3QgcmVzZXJ2ZWQgPSBmYWxzZTtcbiAgICBjb25zdCBvYmplY3QgPSB7XG4gICAgICBpZCwgbmFtZSwgZGVzY3JpcHRpb24sIGltYWdlLCByZXNlcnZlZCxcbiAgICB9O1xuICAgIHJvY2tldHMucHVzaChvYmplY3QpO1xuICB9XG4gIGRpc3BhdGNoKGZldGNoUm9ja2V0KHJvY2tldHMpKTtcbn07XG5cbi8vIHJvY2tldC1ib29raW5nXG5cbmNvbnN0IHJlc2VydmVDYW5jZWxSb2NrZXQgPSAoc3RhdGUsIHBheWxvYWQpID0+IHtcbiAgY29uc3QgbmV3U3RhdGUgPSBzdGF0ZS5tYXAoKHJvY2tldCkgPT4ge1xuICAgIGlmIChyb2NrZXQuaWQgIT09IHBheWxvYWQpIHJldHVybiByb2NrZXQ7XG4gICAgcmV0dXJuIHsgLi4ucm9ja2V0LCByZXNlcnZlZDogIXJvY2tldC5yZXNlcnZlZCB9O1xuICB9KTtcbiAgcmV0dXJuIG5ld1N0YXRlO1xufTtcblxuLy8gc3RhdGVcbmNvbnN0IGluaXRpYWxTdGF0ZSA9IFtdO1xuXG4vLyByZWR1Y2VyXG5jb25zdCByZWR1Y2VyID0gKHN0YXRlID0gaW5pdGlhbFN0YXRlLCBhY3Rpb24pID0+IHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgRkVUQ0hfUk9DS0VUOlxuICAgICAgcmV0dXJuIGFjdGlvbi5wYXlsb2FkO1xuICAgIGNhc2UgQk9PS19ST0NLRVQ6XG4gICAgICByZXR1cm4gcmVzZXJ2ZUNhbmNlbFJvY2tldChzdGF0ZSwgYWN0aW9uLnBheWxvYWQpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHJlZHVjZXI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUVBO0FBQ0EsTUFBTUEsWUFBWSxHQUFHLHFDQUFyQjtBQUNBLE1BQU1DLFdBQVcsR0FBRyxvQ0FBcEIsQyxDQUVBOztBQUNBLE1BQU1DLFdBQVcsR0FBSUMsT0FBRCxLQUFjO0VBQ2hDQyxJQUFJLEVBQUVKLFlBRDBCO0VBRWhDRztBQUZnQyxDQUFkLENBQXBCOztBQUtPLE1BQU1FLFVBQVUsR0FBSUYsT0FBRCxLQUFjO0VBQ3RDQyxJQUFJLEVBQUVILFdBRGdDO0VBRXRDRTtBQUZzQyxDQUFkLENBQW5CLEMsQ0FLUDs7Ozs7QUFFTyxNQUFNRyxjQUFjLEdBQUcsTUFBTSxNQUFPQyxRQUFQLElBQW9CO0VBQ3RELE1BQU1DLFdBQVcsR0FBRyxNQUFNQyxjQUFBLENBQU1DLEdBQU4sQ0FBVSx1Q0FBVixDQUExQjtFQUNBLE1BQU07SUFBRUM7RUFBRixJQUFXSCxXQUFqQjtFQUNBLE1BQU1JLE9BQU8sR0FBRyxFQUFoQjs7RUFDQSxLQUFLLElBQUlDLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdGLElBQUksQ0FBQ0csTUFBekIsRUFBaUNELENBQUMsSUFBSSxDQUF0QyxFQUF5QztJQUN2QyxNQUFNRSxJQUFJLEdBQUdKLElBQUksQ0FBQ0UsQ0FBRCxDQUFKLENBQVFHLFdBQXJCO0lBQ0EsTUFBTTtNQUFFQztJQUFGLElBQVNOLElBQUksQ0FBQ0UsQ0FBRCxDQUFuQjtJQUNBLE1BQU07TUFBRUs7SUFBRixJQUFrQlAsSUFBSSxDQUFDRSxDQUFELENBQTVCO0lBQ0EsTUFBTU0sS0FBSyxHQUFHUixJQUFJLENBQUNFLENBQUQsQ0FBSixDQUFRTyxhQUFSLENBQXNCLENBQXRCLENBQWQ7SUFDQSxNQUFNQyxRQUFRLEdBQUcsS0FBakI7SUFDQSxNQUFNQyxNQUFNLEdBQUc7TUFDYkwsRUFEYTtNQUNURixJQURTO01BQ0hHLFdBREc7TUFDVUMsS0FEVjtNQUNpQkU7SUFEakIsQ0FBZjtJQUdBVCxPQUFPLENBQUNXLElBQVIsQ0FBYUQsTUFBYjtFQUNEOztFQUNEZixRQUFRLENBQUNMLFdBQVcsQ0FBQ1UsT0FBRCxDQUFaLENBQVI7QUFDRCxDQWhCTSxDLENBa0JQOzs7OztBQUVBLE1BQU1ZLG1CQUFtQixHQUFHLENBQUNDLEtBQUQsRUFBUXRCLE9BQVIsS0FBb0I7RUFDOUMsTUFBTXVCLFFBQVEsR0FBR0QsS0FBSyxDQUFDRSxHQUFOLENBQVdDLE1BQUQsSUFBWTtJQUNyQyxJQUFJQSxNQUFNLENBQUNYLEVBQVAsS0FBY2QsT0FBbEIsRUFBMkIsT0FBT3lCLE1BQVA7SUFDM0IsT0FBTyxFQUFFLEdBQUdBLE1BQUw7TUFBYVAsUUFBUSxFQUFFLENBQUNPLE1BQU0sQ0FBQ1A7SUFBL0IsQ0FBUDtFQUNELENBSGdCLENBQWpCO0VBSUEsT0FBT0ssUUFBUDtBQUNELENBTkQsQyxDQVFBOzs7QUFDQSxNQUFNRyxZQUFZLEdBQUcsRUFBckIsQyxDQUVBOztBQUNBLE1BQU1DLE9BQU8sR0FBRyxDQUFDTCxLQUFLLEdBQUdJLFlBQVQsRUFBdUJFLE1BQXZCLEtBQWtDO0VBQ2hELFFBQVFBLE1BQU0sQ0FBQzNCLElBQWY7SUFDRSxLQUFLSixZQUFMO01BQ0UsT0FBTytCLE1BQU0sQ0FBQzVCLE9BQWQ7O0lBQ0YsS0FBS0YsV0FBTDtNQUNFLE9BQU91QixtQkFBbUIsQ0FBQ0MsS0FBRCxFQUFRTSxNQUFNLENBQUM1QixPQUFmLENBQTFCOztJQUNGO01BQ0UsT0FBT3NCLEtBQVA7RUFOSjtBQVFELENBVEQ7O2VBV2VLLE8ifQ==